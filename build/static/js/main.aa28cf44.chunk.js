(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{64:function(e,a,t){e.exports=t.p+"static/media/class-notes-logo-2.fffe2ed2.png"},68:function(e,a,t){e.exports=t(97)},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(25),r=t.n(l),o=(t(73),t(13)),s=(t(74),t(75),t(114)),i=t(113),m=t(47),u=t.n(m),d=t(48),h=t.n(d),p=t(49),E=t.n(p),v=Object(n.createContext)(),f=function(e){var a=e.reducer,t=e.initialState,l=e.children;return c.a.createElement(v.Provider,{value:Object(n.useReducer)(a,t)},l)},g=function(){return Object(n.useContext)(v)};var b=function(){var e=g(),a=Object(o.a)(e,1)[0].user;return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header-left"},c.a.createElement(s.a,{className:"header-avatar",alt:null===a||void 0===a?void 0:a.displayName,src:null===a||void 0===a?void 0:a.photoURL}),c.a.createElement(u.a,null)),c.a.createElement("div",{className:"header-search"},c.a.createElement(h.a,null),c.a.createElement(i.a,{placeholder:"Search Here Dumb Ass"})),c.a.createElement("div",{className:"header-right"},c.a.createElement(E.a,null)))},N=(t(80),t(50)),I=t.n(N),j=t(51),O=t.n(j),S=(t(81),t(4)),w=t(27),C=t.n(w),y=C.a.initializeApp({apiKey:"AIzaSyD-boFJiNKWUuThg9SiuzLTJ6oAHmgenj8",authDomain:"chat-app-2221a.firebaseapp.com",databaseURL:"https://chat-app-2221a.firebaseio.com",projectId:"chat-app-2221a",storageBucket:"chat-app-2221a.appspot.com",messagingSenderId:"1068041824610",appId:"1:1068041824610:web:c5bfbf59cf9eeba9f2e43b",measurementId:"G-DC5GWP6QVJ"}).firestore(),k=C.a.auth(),D=new C.a.auth.GoogleAuthProvider,A=y;var U=function(e){var a=e.Icon,t=e.title,n=e.id,l=e.addChannelOption,r=Object(S.f)();return c.a.createElement("div",{className:"sidebar-option",onClick:l?function(){var e=prompt("Please Enter a Channel Name");e&&A.collection("rooms").add({name:e})}:function(){n?r.push("/room/".concat(n)):r.push(t)}},a&&c.a.createElement(a,{className:"sidebar-option-icon"}),a?c.a.createElement("h3",null,t):c.a.createElement("h3",{className:"sidebar-option-channel"},c.a.createElement("span",{className:"sidebar-hashtag"},"#")," ",t))},B=t(52),P=t.n(B),R=t(53),T=t.n(R),W=t(54),G=t.n(W),J=t(55),L=t.n(J),x=t(56),F=t.n(x),z=t(57),M=t.n(z),H=t(58),K=t.n(H),V=t(59),Q=t.n(V),$=t(60),_=t.n($),q=t(61),X=t.n(q);var Y=function(){var e=g(),a=Object(o.a)(e,1)[0].user,t=Object(n.useState)([]),l=Object(o.a)(t,2),r=l[0],s=l[1];return Object(n.useEffect)((function(){A.collection("rooms").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar-header"},c.a.createElement("div",{className:"sidebar-info"},c.a.createElement("h2",null,"Name"),c.a.createElement("h3",null,c.a.createElement(I.a,null),null===a||void 0===a?void 0:a.displayName)),c.a.createElement(O.a,null)),c.a.createElement(U,{Icon:P.a,title:"Threads"}),c.a.createElement(U,{Icon:T.a,title:"Mentions & Reactions"}),c.a.createElement(U,{Icon:G.a,title:"Saved Items"}),c.a.createElement(U,{Icon:L.a,title:"Channel Browser"}),c.a.createElement(U,{Icon:F.a,title:"People & User Groups"}),c.a.createElement(U,{Icon:M.a,title:"Apps"}),c.a.createElement(U,{Icon:K.a,title:"File Browser"}),c.a.createElement(U,{Icon:Q.a,title:"Show Less"}),c.a.createElement("hr",null),c.a.createElement(U,{Icon:_.a,title:"Channels"}),c.a.createElement("hr",null),c.a.createElement(U,{Icon:X.a,title:"Add Channel",addChannelOption:!0}),r.map((function(e){return c.a.createElement(U,{title:e.name,id:e.id})})))},Z=t(33),ee=(t(93),t(62)),ae=t.n(ee),te=t(63),ne=t.n(te);t(94);var ce=function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.userImage;return c.a.createElement("div",{className:"message"},c.a.createElement("img",{src:l,alt:""}),c.a.createElement("div",{className:"message-info"},c.a.createElement("h4",null,n," ",c.a.createElement("span",{className:"message-timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString())),c.a.createElement("p",null,a)))};t(95);var le=function(e){var a=e.channelName,t=e.channelId,l=Object(n.useState)(""),r=Object(o.a)(l,2),s=r[0],i=r[1],m=g(),u=Object(o.a)(m,1)[0].user;return c.a.createElement("div",{className:"chat-input"},c.a.createElement("form",null,c.a.createElement("input",{placeholder:"Message #".concat(a),value:s,onChange:function(e){return i(e.target.value)}}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),t&&A.collection("rooms").doc(t).collection("messages").add({message:s,timestamp:C.a.firestore.FieldValue.serverTimestamp(),user:u.displayName,userImage:u.photoURL}),i("")}},"Send")))};var re=function(){var e=Object(S.g)().roomId,a=Object(n.useState)(null),t=Object(o.a)(a,2),l=t[0],r=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){e&&A.collection("rooms").doc(e).onSnapshot((function(e){return r(e.data())})),A.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat-header"},c.a.createElement("div",{className:"chat-header-left"},c.a.createElement("h4",{className:"chat-channel-name"},c.a.createElement("strong",null,"#",null===l||void 0===l?void 0:l.name),c.a.createElement(ae.a,null))),c.a.createElement("div",{className:"chat-header-right"},c.a.createElement("p",null,c.a.createElement(ne.a,null)," Details"))),c.a.createElement("div",{className:"class-messages"},m.map((function(e){var a=e.message,t=e.timestamp,n=e.userImage,l=e.user;return c.a.createElement(ce,{message:a,timestamp:t,userImage:n,user:l})}))),c.a.createElement(le,{channelName:null===l||void 0===l?void 0:l.name,channelId:e}))},oe=(t(96),t(64)),se=t.n(oe),ie=t(112),me=t(38),ue="SET_USER",de=function(e,a){switch(console.log(a),a.type){case ue:return Object(me.a)(Object(me.a)({},e),{},{user:a.user});default:return e}};var he=function(){var e=g(),a=Object(o.a)(e,2),t=(a[0],a[1]);return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login-container"},c.a.createElement("img",{src:se.a,alt:""}),c.a.createElement("h1",null,"Sign in to Code Notes Chat"),c.a.createElement(ie.a,{onClick:function(e){k.signInWithPopup(D).then((function(e){t({type:ue,user:e.user})})).catch((function(e){alert(e.message)}))}},"Sign in with Google")))};var pe=function(){var e=g(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement("div",{className:"app"},c.a.createElement(Z.a,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("div",{className:"app-body"},c.a.createElement(Y,null),c.a.createElement(S.c,null,c.a.createElement(S.a,{path:"/room/:roomId"},c.a.createElement(re,null)),c.a.createElement(S.a,{path:"/"},c.a.createElement("h1",null,"Welcome"))))):c.a.createElement(he,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,{initialState:{user:null},reducer:de},c.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.aa28cf44.chunk.js.map